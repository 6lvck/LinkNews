{"version":3,"sources":["Component/AllNews.js"],"names":["LOAD_STATE","SUCCESS","ERROR","LOADING","URL","concat","key","Trending","state","news","loadState","q","totalResults","pageSize","currentPage","fetchNews","page","url","_this$state","_this","option","request","get","query","set","end","error","response","setState","body","console","log","onChangeSport","e","onChangeBusiness","onQueryChange","target","value","this","_this2","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","_Navbar__WEBPACK_IMPORTED_MODULE_11__","onRouteChange","props","searchHandler","_QuickLinks__WEBPACK_IMPORTED_MODULE_9__","sport","business","News","data","_Pagination__WEBPACK_IMPORTED_MODULE_8__","current","total","onPageChanged","Component","_ref","items","articles","map","_NewsList__WEBPACK_IMPORTED_MODULE_13__","Math","random","article","react_bootstrap__WEBPACK_IMPORTED_MODULE_7__"],"mappings":"qOAWMA,EAAa,CACjBC,QAAS,UACTC,MAAO,QACPC,QAAS,WAKLC,EAAG,4CAAAC,OAA+CC,KAClDC,6MACJC,MAAQ,CACNC,KAAK,GACLC,UAAUV,EAAWG,QACrBQ,EAAG,aACHC,aAAc,EACdC,SAAU,EACVC,YAAa,KAMjBC,UAAY,SAACC,GACX,IAAMC,EAAMb,EADOc,EAEGC,EAAKX,MAApBK,EAFYK,EAEZL,SAAUF,EAFEO,EAEFP,EACXS,EAASJ,EACfK,IAAQC,IAAIL,GACXM,MAAM,CAAEZ,EAAEA,EAAGK,KAAKI,EAAQP,SAASA,IACnCW,IAAI,SAAU,oBACdC,IAAI,SAACC,EAAOC,IACJD,GAASC,EACVR,EAAKS,SAAS,CACXnB,KAAMkB,EAASE,KACfnB,UAAYV,EAAWC,QACvBW,aAAee,EAASE,KAAKjB,aAC7BE,YAAcE,IAGjBc,QAAQC,IAAI,4CAA6CL,QAMnEM,cAAgB,SAAAC,GACZd,EAAKJ,UAAUI,EAAKX,MAAMM,aAC1BK,EAAKS,SAAS,CACZjB,EAAG,aAGPuB,iBAAmB,SAAAD,GACjBd,EAAKJ,UAAUI,EAAKX,MAAMM,aAC1BK,EAAKS,SAAS,CACZjB,EAAG,gBAIPwB,cAAgB,SAAAF,GACdd,EAAKS,SAAS,CACZjB,EAAGsB,EAAEG,OAAOC,4FAvChBC,KAAKvB,UAAUuB,KAAK9B,MAAMM,8CA0CpB,IAAAyB,EAAAD,KACN,OACEE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACbH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACAC,cAAiBP,KAAKQ,MAAMD,cAC5BE,cAAiB,kBAAIR,EAAKxB,UAAUwB,EAAK/B,MAAMM,cAC/CqB,cAAiBG,KAAKH,cACtBZ,MAASe,KAAK9B,MAAMG,IAEpB6B,EAAAC,EAAAC,cAACM,EAAA,EAAD,CACNC,MAASX,KAAKN,cACdkB,SAAYZ,KAAKJ,mBAGhBI,KAAK9B,MAAME,YAAcV,EAAWG,QACjCqC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACfH,EAAAC,EAAAC,cAACS,EAAD,CAAMC,KAAMd,KAAK9B,MAAMC,OAEzB+B,EAAAC,EAAAC,cAACW,EAAA,EAAD,CACQC,QAAShB,KAAK9B,MAAMM,YACpByC,MAAOjB,KAAK9B,MAAMI,aAClBC,SAAUyB,KAAK9B,MAAMK,SACrB2C,cAAelB,KAAKvB,oBA3EP0C,aAmFjBN,EAAO,SAAAO,GAAc,IAAXN,EAAWM,EAAXN,KACRO,EAAQP,EAAKQ,SAASC,IAAI,SAAAD,GAAQ,OAAIpB,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAUxD,IAAKyD,KAAKC,SAAUC,QAASL,MACjF,OACEpB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACXgB,EACFnB,EAAAC,EAAAC,cAACwB,EAAA,EAAD,KACA1B,EAAAC,EAAAC,cAAA,UAAKU,EAAKxC,aAAV,IA7FW,sBAoGJL","file":"static/js/3.dcf2fb03.chunk.js","sourcesContent":["import React, { Component, } from 'react';\r\nimport '../styles/News.css';\r\nimport {Container} from 'react-bootstrap';\r\nimport Pagination from './Pagination';\r\nimport QuickLinks from './QuickLinks';\r\nimport request from 'superagent';\r\nimport Navbar from './Navbar';\r\nimport key from '.././Config';\r\n\r\nimport NewsList from './NewsList';\r\n\r\nconst LOAD_STATE = {\r\n  SUCCESS: 'SUCCESS',\r\n  ERROR: 'ERROR',\r\n  LOADING: 'LOADING'\r\n};\r\nconst discovered = 'news discovered';\r\nconst sport = 'sport';\r\nconst business = 'business';\r\nconst URL = `https://newsapi.org/v2/everything?apiKey=${key}`\r\nclass Trending extends Component {\r\n  state = {\r\n    news:[],\r\n    loadState:LOAD_STATE.LOADING,\r\n    q: 'technology',\r\n    totalResults: 0,\r\n    pageSize: 5,\r\n    currentPage: 1,\r\n}\r\n\r\ncomponentDidMount(){\r\n  this.fetchNews(this.state.currentPage)\r\n}\r\nfetchNews = (page) =>{\r\n  const url = URL;\r\n  const {pageSize, q} = this.state;\r\n  const option = page\r\n  request.get(url)\r\n  .query({ q:q, page:option, pageSize:pageSize })\r\n  .set('Accept', 'application/json')\r\n  .end((error, response) => {\r\n      if (!error && response) {\r\n          this.setState({\r\n             news: response.body,\r\n             loadState : LOAD_STATE.SUCCESS,\r\n             totalResults : response.body.totalResults,\r\n             currentPage : page\r\n             });\r\n      } else {\r\n          console.log('There was an error fetching from News.org', error);\r\n      }\r\n  }\r\n);\r\n}\r\n\r\nonChangeSport = e => {\r\n    this.fetchNews(this.state.currentPage)\r\n    this.setState({\r\n      q: 'sport'\r\n    })\r\n  }\r\n  onChangeBusiness = e => {\r\n    this.fetchNews(this.state.currentPage)\r\n    this.setState({\r\n      q: 'business'\r\n    })\r\n  }\r\n\r\n  onQueryChange = e => {\r\n    this.setState({\r\n      q: e.target.value,\r\n    })\r\n  }\r\nrender(){\r\n  return (\r\n    <div className=\"Trending\">\r\n      <Navbar\r\n      onRouteChange = {this.props.onRouteChange}\r\n      searchHandler = {()=>this.fetchNews(this.state.currentPage)}\r\n      onQueryChange = {this.onQueryChange}\r\n      query = {this.state.q}\r\n       />\r\n      <QuickLinks\r\nsport = {this.onChangeSport}\r\nbusiness = {this.onChangeBusiness}\r\n />\r\n\r\n{this.state.loadState === LOAD_STATE.LOADING\r\n  ? <div className=\"loader\"></div>\r\n  : <News data={this.state.news} />  \r\n}\r\n  <Pagination\r\n          current={this.state.currentPage}\r\n          total={this.state.totalResults} \r\n          pageSize={this.state.pageSize} \r\n          onPageChanged={this.fetchNews}\r\n        />\r\n    </div>\r\n  );\r\n}\r\n}\r\n\r\n\r\nconst News = ({ data }) => {\r\n    var items = data.articles.map(articles => <NewsList key={Math.random()} article={articles}/>);\r\n    return (\r\n      <div className=\"grid\">\r\n        { items }\r\n        <Container>\r\n        <h6>{data.totalResults} {discovered}</h6>\r\n        </Container>\r\n      </div>\r\n    )\r\n  }\r\n  \r\n\r\nexport default Trending;"],"sourceRoot":""}